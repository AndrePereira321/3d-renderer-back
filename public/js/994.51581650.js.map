{"version":3,"file":"js/994.51581650.js","mappings":"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","sources":["webpack://3d-renderer/./src/store/modules/forms.ts","webpack://3d-renderer/./node_modules/vue-loader/dist/index.js","webpack://3d-renderer/./src/components/common/app-basic-input/app-basic-input.vue"],"sourcesContent":["import type { FieldErrorState, FieldValue, FormsState } from \"@/types/forms\";\r\nimport { defineStore } from \"pinia\";\r\n\r\nconst useFormsStore = defineStore(\"forms\", {\r\n  state: () =>\r\n    ({\r\n      forms: {},\r\n    } as FormsState),\r\n  getters: {\r\n    getFormFields:\r\n      (state: FormsState) =>\r\n      (formId: string): Record<string, FieldValue> | undefined =>\r\n        state.forms[formId]?.fields,\r\n    getFormRawValues:\r\n      (state: FormsState) =>\r\n      (formId: string): Record<string, unknown> | undefined => {\r\n        if (!state.forms[formId]) {\r\n          return undefined;\r\n        }\r\n        const result: Record<string, unknown> = {};\r\n        for (const fieldName in state.forms[formId].fields) {\r\n          result[fieldName] = state.forms[formId].fields[fieldName].value;\r\n        }\r\n        return result;\r\n      },\r\n    getErrorsStatus:\r\n      (state: FormsState) =>\r\n      (formId: string): FieldErrorState[] | undefined => {\r\n        const errorState: FieldErrorState[] = [];\r\n        if (!state.forms[formId]) {\r\n          return undefined;\r\n        }\r\n        for (const fieldName in state.forms[formId].fields) {\r\n          const currentField = state.forms[formId].fields[fieldName];\r\n          if (currentField.error == true) {\r\n            errorState.push({\r\n              fieldName,\r\n              fieldCurrentValue: currentField.value,\r\n              fieldOriginalValue: currentField.originalValue,\r\n              errorDescription: currentField.errorDescription ?? \"UNKNOWN\",\r\n            });\r\n          }\r\n        }\r\n        return errorState;\r\n      },\r\n    getField:\r\n      (state: FormsState) =>\r\n      (formId: string, fieldName: string): FieldValue | undefined =>\r\n        state.forms[formId]?.fields[fieldName],\r\n    getFieldValue:\r\n      (state: FormsState) =>\r\n      (formId: string, fieldName: string): unknown | undefined =>\r\n        state.forms[formId]?.fields[fieldName]?.value,\r\n    getFieldErrorStatus:\r\n      (state: FormsState) =>\r\n      (formId: string, fieldName: string): boolean | undefined =>\r\n        state.forms[formId]?.fields[fieldName]?.error,\r\n    getFieldErrorMessage:\r\n      (state: FormsState) =>\r\n      (formId: string, fieldName: string): string | undefined =>\r\n        state.forms[formId]?.fields[fieldName]?.errorDescription,\r\n  },\r\n  actions: {\r\n    setFieldValue(\r\n      formId: string,\r\n      fieldName: string,\r\n      value?: unknown,\r\n      required?: boolean,\r\n      error?: boolean,\r\n      errorMessage?: string\r\n    ) {\r\n      if (!this.forms[formId]) {\r\n        this.forms[formId] = { fields: {} };\r\n      }\r\n      if (!this.forms[formId].fields[fieldName]) {\r\n        this.forms[formId].fields[fieldName] = {\r\n          originalValue: value,\r\n        };\r\n      }\r\n      const field = this.forms[formId].fields[fieldName];\r\n      if (typeof error != \"undefined\") {\r\n        field.error = error;\r\n        field.errorDescription = errorMessage;\r\n      }\r\n      field.value = value;\r\n      field.required = required;\r\n    },\r\n    setFieldError(\r\n      formId: string,\r\n      fieldName: string,\r\n      error: boolean,\r\n      errorMsg?: string\r\n    ) {\r\n      const field = this.forms[formId].fields[fieldName];\r\n      if (!field) {\r\n        return;\r\n      }\r\n      field.error = error;\r\n      field.errorDescription = errorMsg;\r\n    },\r\n    validateForm(formId: string) {\r\n      const form = this.forms[formId].fields ?? {};\r\n      for (const fieldName in form) {\r\n        const field = form[fieldName];\r\n        if (field.required && !field.value) {\r\n          field.error = true;\r\n          field.errorDescription = \"fieldRequired\";\r\n        }\r\n      }\r\n    },\r\n    resetFormErrors(formId: string) {\r\n      const form = this.forms[formId].fields ?? {};\r\n      for (const fieldName in form) {\r\n        form[fieldName].error = undefined;\r\n        form[fieldName].errorDescription = undefined;\r\n      }\r\n    },\r\n    resetFormValues(formId: string) {\r\n      const form = this.forms[formId].fields ?? {};\r\n      for (const fieldName in form) {\r\n        form[fieldName].value = form[fieldName].originalValue;\r\n      }\r\n    },\r\n  },\r\n});\r\n\r\nexport default useFormsStore;\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, vModelDynamic as _vModelDynamic, mergeProps as _mergeProps, withDirectives as _withDirectives } from \"vue\"\n\nconst _hoisted_1 = { class: \"flex-centered gap-2\" }\nconst _hoisted_2 = [\"for\"]\nconst _hoisted_3 = { key: 0 }\nconst _hoisted_4 = [\"name\", \"type\"]\n\nimport useFormsStore from \"@/store/modules/forms\";\r\nimport { computed, onBeforeMount, ref, watch } from \"vue\";\r\nimport { useI18n } from \"vue-i18n\";\r\n\r\ninterface AppInputProps {\r\n  modelValue?: unknown;\r\n  type: string;\r\n  name: string;\r\n  sameLine?: boolean;\r\n  containerClass?: string;\r\n  labelClass?: string;\r\n  icon?: string;\r\n  iconSize?: string;\r\n  inputClass?: string | string[] | Record<string, boolean>;\r\n  responsive?: boolean;\r\n  formId?: string;\r\n  displayError?: boolean;\r\n  loadData?: boolean;\r\n  required?: boolean;\r\n}\r\n\r\ninterface AppInputEvents {\r\n  <T>(\r\n    e: \"update:modelValue\",\r\n    value: T,\r\n    hasError: boolean,\r\n    errorMsg: string | undefined\r\n  ): void;\r\n}\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  name: 'app-basic-input',\n  props: {\n    modelValue: null,\n    type: null,\n    name: null,\n    sameLine: { type: Boolean },\n    containerClass: null,\n    labelClass: null,\n    icon: null,\n    iconSize: null,\n    inputClass: null,\n    responsive: { type: Boolean },\n    formId: null,\n    displayError: { type: Boolean, default: false },\n    loadData: { type: Boolean, default: false },\n    required: { type: Boolean, default: false }\n  },\n  emits: [\"update:modelValue\"],\n  setup(__props: any, { emit }: { emit: ({\r\n  <T>(\r\n    e: \"update:modelValue\",\r\n    value: T,\r\n    hasError: boolean,\r\n    errorMsg: string | undefined\r\n  ): void;\r\n}), expose: any, slots: any, attrs: any }) {\n\nconst props = __props as { modelValue?: unknown, type: string, name: string, sameLine?: boolean, containerClass?: string, labelClass?: string, icon?: string, iconSize?: string, inputClass?: string | string[] | Record<string, boolean>, responsive?: boolean, formId?: string, displayError: boolean, loadData: boolean, required: boolean }\n\r\nconst { t } = useI18n();\r\nconst formStore = useFormsStore();\r\n\r\n\r\n\r\n\r\nconst computedContainerClass = computed(() => {\r\n  const classes: string[] = [\"\"];\r\n  if (props.sameLine)\r\n    if (props.responsive) classes.push(\"responsive-flex-centered gap-2\");\r\n    else classes.push(\"flex-centered gap-2\");\r\n  else classes.push(\"flex-column gap-2\");\r\n  return classes;\r\n});\r\n\r\nconst value = ref(props.modelValue);\r\nconst storedValue = computed(() =>\r\n  props.formId ? formStore.getFieldValue(props.formId, props.name) : undefined\r\n);\r\nconst storedErrorStatus = computed(() =>\r\n  props.formId\r\n    ? formStore.getFieldErrorStatus(props.formId, props.name)\r\n    : undefined\r\n);\r\n\r\nconst inputEl = ref<HTMLInputElement>();\r\nconst hasError = ref(false);\r\nconst errorMsg = ref<string>();\r\n\r\nconst setFieldValue = (v: unknown) => {\r\n  hasError.value = inputEl.value?.checkValidity() === false ? true : false;\r\n  if (hasError.value) {\r\n    errorMsg.value = inputEl.value?.validationMessage;\r\n  }\r\n  if (props.formId) {\r\n    formStore.setFieldValue(\r\n      props.formId,\r\n      props.name,\r\n      v,\r\n      props.required,\r\n      hasError.value,\r\n      errorMsg.value\r\n    );\r\n  }\r\n  emit(\"update:modelValue\", v, hasError.value, errorMsg.value);\r\n};\r\n\r\nwatch(\r\n  () => props.modelValue,\r\n  (v) => (value.value = v)\r\n);\r\nwatch(value, (v) => setFieldValue(v));\r\n\r\nonBeforeMount(() => {\r\n  if (props.loadData && storedValue.value) {\r\n    value.value = storedValue.value;\r\n  } else {\r\n    setFieldValue(value.value);\r\n  }\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass(['w-full', _unref(computedContainerClass), __props.containerClass])\n  }, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      (__props.icon)\n        ? (_openBlock(), _createBlock(_component_font_awesome_icon, {\n            key: 0,\n            icon: __props.icon,\n            size: __props.iconSize\n          }, null, 8, [\"icon\", \"size\"]))\n        : _createCommentVNode(\"\", true),\n      _createElementVNode(\"label\", {\n        for: __props.name,\n        class: _normalizeClass(['label', __props.labelClass])\n      }, [\n        _createTextVNode(_toDisplayString(_unref(t)(__props.name)) + \" \", 1),\n        (__props.required)\n          ? (_openBlock(), _createElementBlock(\"span\", _hoisted_3, \"*\"))\n          : _createCommentVNode(\"\", true)\n      ], 10, _hoisted_2)\n    ]),\n    _withDirectives(_createElementVNode(\"input\", _mergeProps({\n      ref_key: \"inputEl\",\n      ref: inputEl,\n      name: __props.name,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((value).value = $event)),\n      type: __props.type,\n      class: [_unref(storedErrorStatus) ? 'error-border' : '', __props.inputClass]\n    }, _ctx.$attrs), null, 16, _hoisted_4), [\n      [_vModelDynamic, value.value]\n    ])\n  ], 2))\n}\n}\n\n})","import script from \"./app-basic-input.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./app-basic-input.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["useFormsStore","defineStore","state","forms","getters","getFormFields","formId","fields","getFormRawValues","result","fieldName","value","getErrorsStatus","errorState","currentField","error","push","fieldCurrentValue","fieldOriginalValue","originalValue","errorDescription","getField","getFieldValue","getFieldErrorStatus","getFieldErrorMessage","actions","setFieldValue","required","errorMessage","this","field","setFieldError","errorMsg","validateForm","form","resetFormErrors","undefined","resetFormValues","_hoisted_1","class","_hoisted_2","_hoisted_3","key","_hoisted_4","_defineComponent","name","props","modelValue","type","sameLine","Boolean","containerClass","labelClass","icon","iconSize","inputClass","responsive","displayError","default","loadData","emits","setup","__props","emit","t","useI18n","formStore","computedContainerClass","computed","classes","ref","storedValue","storedErrorStatus","inputEl","hasError","v","checkValidity","validationMessage","watch","onBeforeMount","_ctx","_cache","_component_font_awesome_icon","_resolveComponent","_openBlock","_createElementBlock","_normalizeClass","_unref","_createElementVNode","_createBlock","size","_createCommentVNode","for","_createTextVNode","_toDisplayString","_withDirectives","_mergeProps","ref_key","$event","$attrs","_vModelDynamic","__exports__"],"sourceRoot":""}