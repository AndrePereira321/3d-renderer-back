"use strict";(self["webpackChunk_3d_renderer"]=self["webpackChunk_3d_renderer"]||[]).push([[511],{5117:function(e,r,s){var i=s(7139);const o=(0,i.Q_)("forms",{state:()=>({forms:{}}),getters:{getFormFields:e=>r=>e.forms[r]?.fields,getFormRawValues:e=>r=>{if(!e.forms[r])return;const s={};for(const i in e.forms[r].fields)s[i]=e.forms[r].fields[i].value;return s},getErrorsStatus:e=>r=>{const s=[];if(e.forms[r]){for(const i in e.forms[r].fields){const o=e.forms[r].fields[i];1==o.error&&s.push({fieldName:i,fieldCurrentValue:o.value,fieldOriginalValue:o.originalValue,errorDescription:o.errorDescription??"UNKNOWN"})}return s}},getField:e=>(r,s)=>e.forms[r]?.fields[s],getFieldValue:e=>(r,s)=>e.forms[r]?.fields[s]?.value,getFieldErrorStatus:e=>(r,s)=>e.forms[r]?.fields[s]?.error,getFieldErrorMessage:e=>(r,s)=>e.forms[r]?.fields[s]?.errorDescription},actions:{setFieldValue(e,r,s,i,o,t){this.forms[e]||(this.forms[e]={fields:{}}),this.forms[e].fields[r]||(this.forms[e].fields[r]={originalValue:s});const l=this.forms[e].fields[r];"undefined"!=typeof o&&(l.error=o,l.errorDescription=t),l.value=s,l.required=i},setFieldError(e,r,s,i){const o=this.forms[e].fields[r];o&&(o.error=s,o.errorDescription=i)},validateForm(e){const r=this.forms[e].fields??{};for(const s in r){const e=r[s];e.required&&!e.value&&(e.error=!0,e.errorDescription="fieldRequired")}},resetFormErrors(e){const r=this.forms[e].fields??{};for(const s in r)r[s].error=void 0,r[s].errorDescription=void 0},resetFormValues(e){const r=this.forms[e].fields??{};for(const s in r)r[s].value=r[s].originalValue}}});r["Z"]=o},1041:function(e,r,s){var i=s(1158),o=s(7139);const t=(0,o.Q_)("references",{state:()=>({references:{}}),getters:{},actions:{async fetchReference(e){if(this.references[e])return this.references[e];const r=await i.Z.references.getReference(e);return r&&(this.references[e]=r),r}}});r["Z"]=t},3351:function(e,r,s){s.r(r),s.d(r,{default:function(){return b}});var i=s(3396),o=s(2268),t=s(4870),l=s.p+"img/logo.c188d85a.png",n=s(2170),a=s(5117),f=s(1041),d=s(6762);let m=0;const u=()=>m++;var c=s(4329);const p={class:"flex gap-4 border-2 border-b-primary p-2"},g=(0,i._)("img",{src:l,style:{height:"48px"}},null,-1),w={class:"flex-centered gap-2"},v=["id"],h={class:"flex-centered"},F={class:"flex-column-centered p-2 gap-4"},V={class:"flex-column-centered p-2 gap-4"};var W=(0,i.aZ)({name:"menu-bar",props:{items:null},setup(e){const{t:r}=(0,c.QT)(),s=(0,a.Z)(),l=(0,d.Z)(),m=(0,t.iH)(!1),W=(0,t.iH)(!1),_=(0,t.Fl)((()=>l.isConnected)),b="login-form-"+u(),y="register-form-"+u(),k=e=>{e||(s.getFieldValue(y,"password")===s.getFieldValue(y,"passwordConfirm")?n.g.postData("register",s.getFormRawValues(y)):s.setFieldError(y,"passwordConfirm",!0,"passwordMustMatch"))},C=e=>{if(e)return;const r=s.getFormRawValues(b);r&&r.email&&r.password&&l.login(r.email,r.password,!0)},D=()=>l.disconnect(),x=async()=>{const e=(0,f.Z)();console.log("Fetching");const r=await e.fetchReference("COUNTRIES");console.log(r)};return(s,l)=>{const n=(0,i.up)("router-link"),a=(0,i.up)("font-awesome-icon"),f=(0,i.up)("app-button"),d=(0,i.up)("app-basic-input"),u=(0,i.up)("app-form"),c=(0,i.up)("app-modal"),q=(0,i.up)("app-input-select");return(0,i.wg)(),(0,i.iD)("div",p,[(0,i.Wm)(n,{to:"/"},{default:(0,i.w5)((()=>[g])),_:1}),(0,i._)("div",w,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.items,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.id,id:e.id},[(0,i.Wm)(n,{to:e.path,class:"flex-centered gap-1"},{default:(0,i.w5)((()=>[(0,i.Wm)(a,{icon:e.icon,size:"lg"},null,8,["icon"]),(0,i._)("span",null,(0,o.zw)((0,t.SU)(r)(e.label)),1)])),_:2},1032,["to"])],8,v)))),128))]),(0,i._)("div",h,[(0,t.SU)(_)?((0,i.wg)(),(0,i.j4)(f,{key:1,label:"disconnect",onClick:D})):((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Wm)(f,{onClick:l[0]||(l[0]=e=>m.value=!0),label:"login",icon:"xmark"}),(0,i.Wm)(c,{modelValue:m.value,"onUpdate:modelValue":l[1]||(l[1]=e=>m.value=e),title:"login",ml:"30vw",mr:"30vw"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{"form-id":b,onSubmit:C},{default:(0,i.w5)((()=>[(0,i._)("div",F,[(0,i.Wm)(d,{"container-class":"w-50",name:"email",type:"email","form-id":b,responsive:!0,"input-class":"w-full",required:""}),(0,i.Wm)(d,{"container-class":"w-50",name:"password",type:"password","form-id":b,responsive:!0,"input-class":"w-full",required:""})])])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(f,{onClick:l[2]||(l[2]=e=>W.value=!0),label:"register",icon:"xmark"}),(0,i.Wm)(c,{modelValue:W.value,"onUpdate:modelValue":l[3]||(l[3]=e=>W.value=e),title:"register",ml:"30vw",mr:"30vw"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{"form-id":y,onSubmit:k,class:"p-6"},{default:(0,i.w5)((()=>[(0,i._)("div",V,[(0,i.Wm)(d,{name:"email",type:"email","form-id":y,responsive:!0,"input-class":"w-full",required:""}),(0,i.Wm)(d,{name:"password",type:"password","form-id":y,responsive:!0,"input-class":"w-full",minlength:"8",required:""}),(0,i.Wm)(d,{name:"passwordConfirm",type:"password","form-id":y,responsive:!0,"input-class":"w-full",minlength:"8",required:""}),(0,i.Wm)(d,{name:"firstName",type:"text","form-id":y,responsive:!0,"input-class":"w-full",required:""}),(0,i.Wm)(d,{name:"lastName",type:"text","form-id":y,responsive:!0,"input-class":"w-full"})])])),_:1})])),_:1},8,["modelValue"])],64)),(0,i.Wm)(f,{label:"test",onClick:x})]),(0,i.Wm)(q,{name:"countries","form-id":"my-form","ref-table":"COUNTRIES"})])}}});const _=W;var b=_}}]);
//# sourceMappingURL=511.72b88f06.js.map